{"ast":null,"code":"var _jsxFileName = \"/home/luis/Escritorio/React/MERN/client/src/components/Admin/Auth/LoginForm/LoginForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Form } from \"semantic-ui-react\";\nimport { useFormik } from \"formik\";\nimport { initialValues, validationSchema } from \"./LoginForm.form\";\nimport \"./LoginForm.sass\";\nimport { Auth } from \"../../../../api\";\nimport { useAuth } from \"../../../../hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authController = new Auth();\nexport function LoginForm() {\n  _s();\n  const {\n    login\n  } = useAuth();\n  const [error, setError] = useState(\"\");\n  const formik = useFormik({\n    initialValues: initialValues(),\n    validationSchema: validationSchema(),\n    validateOnChange: false,\n    onSubmit: async formValue => {\n      // setError(\"\");\n      try {\n        const response_ = await authController.login(formValue);\n        const {\n          msg: response\n        } = response_;\n        authController.setAccessToken(response.access);\n        authController.setRefreshToken(response.refresh);\n        login(response.access);\n        setError(response ? \"OK\" : null);\n      } catch (error) {\n        setError(\"Error del servidor.\");\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Form, {\n    className: \"login-form\",\n    onSubmit: formik.handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n      name: \"email\",\n      placeholder: \"Correo electronico\",\n      autoFocus: true,\n      onChange: formik.handleChange,\n      value: formik.values.email,\n      error: formik.errors.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Contrase\\xF1a\",\n      onChange: formik.handleChange,\n      value: formik.values.password,\n      error: formik.errors.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Button, {\n      type: \"submit\",\n      primary: true,\n      fluid: true,\n      loading: formik.isSubmitting,\n      children: \"Entrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"login-form__error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"QftqhwNqzU3FkcUvZ3o3SVCshHE=\", false, function () {\n  return [useAuth, useFormik];\n});\n_c = LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","Form","useFormik","initialValues","validationSchema","Auth","useAuth","authController","LoginForm","login","error","setError","formik","validateOnChange","onSubmit","formValue","response_","msg","response","setAccessToken","access","setRefreshToken","refresh","handleSubmit","handleChange","values","email","errors","password","isSubmitting"],"sources":["/home/luis/Escritorio/React/MERN/client/src/components/Admin/Auth/LoginForm/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form } from \"semantic-ui-react\";\nimport { useFormik } from \"formik\";\nimport { initialValues, validationSchema } from \"./LoginForm.form\";\nimport \"./LoginForm.sass\";\nimport { Auth } from \"../../../../api\";\nimport { useAuth } from \"../../../../hooks\";\n\nconst authController = new Auth();\n\nexport function LoginForm() {\n  const { login } = useAuth();\n  const [error, setError] = useState(\"\");\n\n  const formik = useFormik({\n    initialValues: initialValues(),\n    validationSchema: validationSchema(),\n    validateOnChange: false,\n    onSubmit: async (formValue) => {\n        // setError(\"\");\n      try {\n        const response_ = await authController.login(formValue);\n        const { msg: response } = response_;\n        \n        authController.setAccessToken(response.access)\n        authController.setRefreshToken(response.refresh)\n        \n        login(response.access); \n        setError(response ? \"OK\" : null);\n\n      } catch (error) {\n        setError(\"Error del servidor.\");\n      }\n    },\n  });\n\n  return (\n    <Form className=\"login-form\" onSubmit={formik.handleSubmit}>\n      <Form.Input\n        name=\"email\"\n        placeholder=\"Correo electronico\"\n        autoFocus\n        onChange={formik.handleChange}\n        value={formik.values.email}\n        error={formik.errors.email}\n      />\n      <Form.Input\n        name=\"password\"\n        type=\"password\"\n        placeholder=\"ContraseÃ±a\"\n        onChange={formik.handleChange}\n        value={formik.values.password}\n        error={formik.errors.email}\n      />\n\n      <Form.Button type=\"submit\" primary fluid loading={formik.isSubmitting}>\n        Entrar\n      </Form.Button>\n\n      <p className=\"login-form__error\">{error}</p>\n    </Form>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,SAAS,QAAQ,QAAQ;AAClC,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,kBAAkB;AAClE,OAAO,kBAAkB;AACzB,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,OAAO,QAAQ,mBAAmB;AAAC;AAE5C,MAAMC,cAAc,GAAG,IAAIF,IAAI,EAAE;AAEjC,OAAO,SAASG,SAAS,GAAG;EAAA;EAC1B,MAAM;IAAEC;EAAM,CAAC,GAAGH,OAAO,EAAE;EAC3B,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMY,MAAM,GAAGV,SAAS,CAAC;IACvBC,aAAa,EAAEA,aAAa,EAAE;IAC9BC,gBAAgB,EAAEA,gBAAgB,EAAE;IACpCS,gBAAgB,EAAE,KAAK;IACvBC,QAAQ,EAAE,MAAOC,SAAS,IAAK;MAC3B;MACF,IAAI;QACF,MAAMC,SAAS,GAAG,MAAMT,cAAc,CAACE,KAAK,CAACM,SAAS,CAAC;QACvD,MAAM;UAAEE,GAAG,EAAEC;QAAS,CAAC,GAAGF,SAAS;QAEnCT,cAAc,CAACY,cAAc,CAACD,QAAQ,CAACE,MAAM,CAAC;QAC9Cb,cAAc,CAACc,eAAe,CAACH,QAAQ,CAACI,OAAO,CAAC;QAEhDb,KAAK,CAACS,QAAQ,CAACE,MAAM,CAAC;QACtBT,QAAQ,CAACO,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC;MAElC,CAAC,CAAC,OAAOR,KAAK,EAAE;QACdC,QAAQ,CAAC,qBAAqB,CAAC;MACjC;IACF;EACF,CAAC,CAAC;EAEF,oBACE,QAAC,IAAI;IAAC,SAAS,EAAC,YAAY;IAAC,QAAQ,EAAEC,MAAM,CAACW,YAAa;IAAA,wBACzD,QAAC,IAAI,CAAC,KAAK;MACT,IAAI,EAAC,OAAO;MACZ,WAAW,EAAC,oBAAoB;MAChC,SAAS;MACT,QAAQ,EAAEX,MAAM,CAACY,YAAa;MAC9B,KAAK,EAAEZ,MAAM,CAACa,MAAM,CAACC,KAAM;MAC3B,KAAK,EAAEd,MAAM,CAACe,MAAM,CAACD;IAAM;MAAA;MAAA;MAAA;IAAA,QAC3B,eACF,QAAC,IAAI,CAAC,KAAK;MACT,IAAI,EAAC,UAAU;MACf,IAAI,EAAC,UAAU;MACf,WAAW,EAAC,eAAY;MACxB,QAAQ,EAAEd,MAAM,CAACY,YAAa;MAC9B,KAAK,EAAEZ,MAAM,CAACa,MAAM,CAACG,QAAS;MAC9B,KAAK,EAAEhB,MAAM,CAACe,MAAM,CAACD;IAAM;MAAA;MAAA;MAAA;IAAA,QAC3B,eAEF,QAAC,IAAI,CAAC,MAAM;MAAC,IAAI,EAAC,QAAQ;MAAC,OAAO;MAAC,KAAK;MAAC,OAAO,EAAEd,MAAM,CAACiB,YAAa;MAAA,UAAC;IAEvE;MAAA;MAAA;MAAA;IAAA,QAAc,eAEd;MAAG,SAAS,EAAC,mBAAmB;MAAA,UAAEnB;IAAK;MAAA;MAAA;MAAA;IAAA,QAAK;EAAA;IAAA;IAAA;IAAA;EAAA,QACvC;AAEX;AAAC,GApDeF,SAAS;EAAA,QACLF,OAAO,EAGVJ,SAAS;AAAA;AAAA,KAJVM,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}